# Trading-Engine-in-Camel-framework-in-Java

(To view the source code, go into Trading Engine1 or Consumer or Producer, then go to src/main/java/camelinaction/)

![Alt text](https://github.com/xiaomaogy//Trading-Engine-in-Camel-framework-in-Java/blob/master/sketch1.jpg?raw=true "sketch1")

The idea is basically using the trading data in bunch of csv files to update the trading engine. As the sketch shown above, the project is composed of a Producer(which is the Data Source), a Consumer(which is the Message Router), and the Trading Engine(which takes the data generated by the Consumer and makes decisions).  

The data we use is 333 csv files with bid price, bid amount, ask price, ask amount at a certain time point for three different companies. In order to fake the real stock market, we add a speed limiter to the producer so that it take 1 file every 5 seconds. The ActiveMQ will pull the csv file into the message queue. 

Then the Consumer will route the messages in that message queue to separate message channels based on its company name(file name).  In each of these channels, the csv file content will be parsed all the prices and amounts will be extracted and stored in StockStatData. Then it will use the StatCalculator to calculate each data's statistics. 

Afterwards the statistic calculated are feeded to the Trading Engine. Trading Engine 1 and 2 are almost the same but can run simultanously. When the trading engine receive the new statistics, it will update its own portfolio with the statistics it is interested in. It will then change its own state and then use certain trading rules based on that certain state. 

![Alt text](https://github.com/xiaomaogy//Trading-Engine-in-Camel-framework-in-Java/blob/master/sketch2.jpg?raw=true "sketch2")



